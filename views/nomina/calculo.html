<!-- Encabezado de la página -->
<div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
    <div>
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Cálculo de Nómina</h2>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Genere y gestione los cálculos de nómina del personal</p>
    </div>
    <div class="mt-4 md:mt-0 flex space-x-3">
        <button id="generatePayroll" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
            <i class="fas fa-calculator mr-2"></i>Calcular Nómina
        </button>
        <button id="exportPayroll" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
            <i class="fas fa-file-export mr-2"></i>Exportar a Excel
        </button>
    </div>
</div>

<!-- Filtros -->
<div class="bg-white dark:bg-gray-800 shadow rounded-lg p-4 mb-6">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div>
            <label for="payrollPeriod" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Período de Pago *</label>
            <select id="payrollPeriod" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                <option value="">Seleccione un período</option>
                <option value="quincenal">Quincenal</option>
                <option value="mensual">Mensual</option>
                <option value="semanal">Semanal</option>
            </select>
        </div>
        <div>
            <label for="startDate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Fecha Inicio *</label>
            <input type="date" id="startDate" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
        </div>
        <div>
            <label for="endDate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Fecha Fin *</label>
            <input type="date" id="endDate" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
        </div>
        <div class="flex items-end">
            <button id="applyFilters" class="w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                Aplicar Filtros
            </button>
        </div>
    </div>
</div>

<!-- Resumen de Nómina -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total Empleados</p>
                <p class="text-2xl font-bold text-blue-600 dark:text-blue-400">24</p>
            </div>
            <div class="p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300">
                <i class="fas fa-users text-xl"></i>
            </div>
        </div>
    </div>
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total a Pagar</p>
                <p class="text-2xl font-bold text-green-600 dark:text-green-400">$45,280.00</p>
            </div>
            <div class="p-3 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300">
                <i class="fas fa-money-bill-wave text-xl"></i>
            </div>
        </div>
    </div>
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-500 dark:text-gray-400">ISR a Retener</p>
                <p class="text-2xl font-bold text-yellow-600 dark:text-yellow-400">$3,250.00</p>
            </div>
            <div class="p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300">
                <i class="fas fa-file-invoice-dollar text-xl"></i>
            </div>
        </div>
    </div>
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-gray-500 dark:text-gray-400">IMSS</p>
                <p class="text-2xl font-bold text-red-600 dark:text-red-400">$1,850.00</p>
            </div>
            <div class="p-3 rounded-full bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300">
                <i class="fas fa-hospital text-xl"></i>
            </div>
        </div>
    </div>
</div>

<!-- Detalle de Nómina -->
<div class="bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700">
        <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white">Detalle de Nómina</h3>
        <p class="mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400">Desglose de percepciones y deducciones por empleado</p>
    </div>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead class="bg-gray-50 dark:bg-gray-700">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        Empleado
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        Salario
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        Horas Extras
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        Bonos
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        ISR
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        IMSS
                    </th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                        Neto a Pagar
                    </th>
                    <th scope="col" class="relative px-6 py-3">
                        <span class="sr-only">Acciones</span>
                    </th>
                </tr>
            </thead>
            <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                <!-- Fila de ejemplo -->
                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 h-10 w-10">
                                <img class="h-10 w-10 rounded-full" src="https://ui-avatars.com/api/?name=Juan+Perez&background=3b82f6&color=fff" alt="">
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Juan Pérez</div>
                                <div class="text-sm text-gray-500 dark:text-gray-400">Chef Ejecutivo</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white">
                        $12,500.00
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white">
                        $1,250.00
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900 dark:text-white">
                        $500.00
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm text-red-600 dark:text-red-400">
                        -$1,250.00
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm text-red-600 dark:text-red-400">
                        -$450.00
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-green-600 dark:text-green-400">
                        $12,550.00
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button class="text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                </tr>
                <!-- Más filas de empleados... -->
            </tbody>
        </table>
    </div>
    <!-- Pie de tabla -->
    <div class="bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6">
        <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
            <div>
                <p class="text-sm text-gray-700 dark:text-gray-300">
                    Mostrando <span class="font-medium">1</span> a <span class="font-medium">10</span> de <span class="font-medium">24</span> empleados
                </p>
            </div>
            <div>
                <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                    <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
                        <span class="sr-only">Anterior</span>
                        <i class="fas fa-chevron-left h-5 w-5"></i>
                    </a>
                    <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 dark:bg-blue-900 dark:text-blue-200 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                        1
                    </a>
                    <a href="#" class="bg-white dark:bg-gray-700 border-gray-300 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                        2
                    </a>
                    <a href="#" class="bg-white dark:bg-gray-700 border-gray-300 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm font-medium">
                        <span class="sr-only">Siguiente</span>
                        <i class="fas fa-chevron-right h-5 w-5"></i>
                    </a>
                </nav>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Detalle de Nómina -->
<div id="payrollDetailModal" class="hidden fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
        <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
        <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
        <div class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full">
            <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                        <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white" id="modal-title">
                            Detalle de Nómina - Juan Pérez
                        </h3>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Percepciones -->
                            <div>
                                <h4 class="text-md font-medium text-gray-900 dark:text-white mb-3">Percepciones</h4>
                                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                    <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-600">
                                        <span class="text-sm text-gray-600 dark:text-gray-300">Sueldo Base</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">$12,500.00</span>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-600">
                                        <span class="text-sm text-gray-600 dark:text-gray-300">Horas Extras (10 hrs)</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">$1,250.00</span>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-600">
                                        <span class="text-sm text-gray-600 dark:text-gray-300">Bono por Puntualidad</span>
                                        <span class="text-sm font-medium text-gray-900 dark:text-white">$500.00</span>
                                    </div>
                                    <div class="flex justify-between py-2 font-bold">
                                        <span class="text-sm">Total Percepciones</span>
                                        <span class="text-sm text-green-600 dark:text-green-400">$14,250.00</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Deducciones -->
                            <div>
                                <h4 class="text-md font-medium text-gray-900 dark:text-white mb-3">Deducciones</h4>
                                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                    <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-600">
                                        <span class="text-sm text-gray-600 dark:text-gray-300">ISR</span>
                                        <span class="text-sm font-medium text-red-600 dark:text-red-400">-$1,250.00</span>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-600">
                                        <span class="text-sm text-gray-600 dark:text-gray-300">IMSS</span>
                                        <span class="text-sm font-medium text-red-600 dark:text-red-400">-$450.00</span>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-gray-200 dark:border-gray-600">
                                        <span class="text-sm text-gray-600 dark:text-gray-300">Préstamo Personal</span>
                                        <span class="text-sm font-medium text-red-600 dark:text-red-400">-$0.00</span>
                                    </div>
                                    <div class="flex justify-between py-2 font-bold">
                                        <span class="text-sm">Total Deducciones</span>
                                        <span class="text-sm text-red-600 dark:text-red-400">-$1,700.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Resumen -->
                        <div class="mt-6 bg-blue-50 dark:bg-blue-900 p-4 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-gray-900 dark:text-white">Neto a Pagar</span>
                                <span class="text-2xl font-bold text-green-600 dark:text-green-400">$12,550.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-800 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm">
                    Imprimir Recibo
                </button>
                <button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                    Enviar por Correo
                </button>
                <button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                    Cerrar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Script para el cálculo de nómina -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Calcular nómina
    document.getElementById('generatePayroll').addEventListener('click', function() {
        // Aquí iría la lógica para calcular la nómina
        alert('Cálculo de nómina realizado exitosamente');
    });
    
    // Exportar a Excel
    document.getElementById('exportPayroll').addEventListener('click', function() {
        // Aquí iría la lógica para exportar a Excel
        alert('Exportando nómina a Excel...');
    });
    
    // Mostrar modal de detalle
    document.querySelectorAll('[data-payroll-detail]').forEach(button => {
        button.addEventListener('click', function() {
            document.getElementById('payrollDetailModal').classList.remove('hidden');
        });
    });
    
    // Cerrar modal
    document.querySelectorAll('[data-modal-close]').forEach(button => {
        button.addEventListener('click', function() {
            document.getElementById('payrollDetailModal').classList.add('hidden');
        });
    });
});
</script>
